!function(t){var e={};function a(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(i,o,function(e){return t[e]}.bind(null,o));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=0)}([function(t,e,a){angular.module("infomet_nelayan",[]),a(1),a(2),a(4),a(5)},function(t,e){angular.module("infomet_nelayan").service("api",["$http","$q",class{constructor(t,e){this.http=t,this.q=e,this.urlServer=""}getWilayah(){let t=this.q.defer();return this.http.get(`${this.urlServer}/api/get_wilayah/`).then(e=>{e=e.data.wilayah,t.resolve(e)}),t.promise}getAreaGeoJSON(t){let e=this.q.defer();return this.http.get(`${this.urlServer}/api/get_area_geojson/${t}`).then(t=>{t=t.data,e.resolve(t)}),e.promise}postWilayah(t){let e=this.q.defer();return this.http({method:"POST",url:`${this.urlServer}/api/post_wilayah/${t}`,dataType:"json",geojson:{geojson:{type:"FeatureCollection",features:[]}},headers:{"Content-Type":"application/json"}}).then(t=>{t=t.data,e.resolve(t)}),e.promise}}])},function(t,e,a){angular.module("infomet_nelayan").component("headerContainer",{bindings:{},controller:["$scope",class{constructor(t){this.scope=t}$onInit(){}}],template:a(3)})},function(t,e){t.exports='<div style=height:100%;display:flex;flex-direction:column> <div style=flex:1;position:relative> <div style=height:100%;width:500px;position:absolute;left:60px> <img src=/img/logo-bmkg.png style=height:60px;position:absolute;transform:translate(0,-50%);top:50%> <div style=position:absolute;background-color:#000;width:3px;height:60px;transform:translate(0,-50%);top:50%;left:60px></div> <h1 style=position:absolute;transform:translate(0,-100%);top:50%;left:75px>Sistem Monitoring</h1> <h3 style=position:absolute;transform:translate(0,-100%);top:80%;left:75px> Infomet Nelayan Sederhana </h3> </div> </div> <div style="flex-basis:30px;background-color:#0c3259;padding:0 0 0 20px;color:#fff"> <div class=w3-bar> <button class="w3-bar-item w3-button w3-padding-small">Monitoring</button> <button class="w3-bar-item w3-button w3-padding-small">Wilayah</button> <button class="w3-bar-item w3-button w3-padding-small">Infomet</button> <button class="w3-bar-item w3-button w3-padding-small">Data Logger</button> </div> </div> <div style=flex-basis:8px;background-color:#299c4c></div> </div>'},function(t,e){angular.module("infomet_nelayan").component("mapContainer",{bindings:{map:"="},controller:["$scope",class{constructor(t){this.scope=t}$onInit(){this.map=L.map("map").setView([51.505,-.09],13),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);this.map.pm.addControls({position:"topleft",drawMarker:!1,drawPolyline:!1,drawRectangle:!1,drawPolygon:!0,drawCircle:!1,cutPolygon:!0,editMode:!0,removalMode:!0})}}]})},function(t,e,a){angular.module("infomet_nelayan").component("sideBar",{bindings:{map:"="},controller:["$scope","api",class{constructor(t,e){this.scope=t,this.api=e}$onInit(){this.api.getWilayah().then(t=>{this.scope.wilayah=t}),this.lastWilayah={},this.scope.eventChangeWilayah=(()=>{this.api.getAreaGeoJSON(this.scope.wilayahSelected).then(t=>{this.lastWilayah.hasOwnProperty("layer")&&this.lastWilayah.layer.removeFrom(this.map),this.lastWilayah.wilayah=this.scope.wilayahSelected,this.lastWilayah.layer=L.geoJSON(t),this.map.fitBounds(this.lastWilayah.layer.getBounds()),this.lastWilayah.layer.addTo(this.map),this.scope.area=t.features})}),this.lastHighlightArea={},this.scope.highlightArea=(t=>{this.lastHighlightArea=L.geoJSON(this.lastWilayah.layer.toGeoJSON().features[t]).setStyle({fillColor:"red"}),this.lastHighlightArea.addTo(this.map)}),this.scope.removeHighlightArea=(()=>{this.lastHighlightArea.removeFrom(this.map)}),this.scope.updateAreaName=((t,e)=>{this.scope.area[t].properties.name=e,this.lastWilayah.layer.removeFrom(this.map);let a=this.lastWilayah.layer.toGeoJSON();a.features=this.scope.area,this.lastWilayah.layer=L.geoJSON(a),this.lastWilayah.layer.addTo(this.map)}),this.scope.removeArea=(t=>{this.lastWilayah.layer.removeFrom(this.map);let e=this.lastWilayah.layer.toGeoJSON();e.features.splice(t,1),this.scope.area=e.features,this.lastWilayah.layer=L.geoJSON(e),this.lastWilayah.layer.addTo(this.map)})}}],template:a(6)})},function(t,e){t.exports='<div class=w3-container style=height:100%;display:flex;flex-direction:column> <div style=background-color:#f0f8ff;flex-basis:80px;padding-top:8px> <label> <b>Wilayah:</b> </label> <select class="w3-input w3-border w3-select" ng-options="o for o in wilayah" ng-model=wilayahSelected ng-change=eventChangeWilayah()></select> </div> <div style=background-color:#faebd7;flex:1;overflow:scroll;overflow-x:hidden> <b>Daftar Area:</b> <div class=w3-bar style=padding-top:8px;display:flex ng-repeat="_area in area track by $index"> <span class="w3-bar-item w3-button w3-left-align w3-blue w3-padding-small" style=flex:4 ng-mouseover=highlightArea($index) ng-mouseleave=removeHighlightArea() ng-init="editStatus=false" ng-hide=editStatus>{{_area.properties.name}}</span> <button class="w3-bar-item w3-button w3-teal w3-padding-small" style=flex:1 ng-hide=editStatus ng-click="editStatus=true; areaName=_area.properties.name;">Edit</button> <input class="w3-bar-item w3-input w3-border w3-padding-small" type=text style=flex:4 ng-show=editStatus ng-model=areaName> <button class="w3-bar-item w3-button w3-teal w3-padding-small" style=flex:1 ng-init="editStatus=false" ng-show=editStatus ng-click="updateAreaName($index, areaName); editStatus=false;">Simpan</button> <button class="w3-bar-item w3-button w3-teal w3-padding-small" style=flex:1 ng-click=removeArea($index)>Hapus</button> </div> </div> <div style=background-color:#7fffd4;flex-basis:30px>simpan</div> </div>'}]);
