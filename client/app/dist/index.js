!function(t){var a={};function e(o){if(a[o])return a[o].exports;var i=a[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=a,e.d=function(t,a,o){e.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,a){if(1&a&&(t=e(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var i in t)e.d(o,i,function(a){return t[a]}.bind(null,i));return o},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=0)}([function(t,a,e){angular.module("infomet_nelayan",[]),e(1),e(2),e(4),e(5),e(7),e(9)},function(t,a){angular.module("infomet_nelayan").service("api",["$http","$q",class{constructor(t,a){this.http=t,this.q=a,this.urlServer=""}getWilayah(){let t=this.q.defer();return this.http.get(`${this.urlServer}/api/get_wilayah/`).then(a=>{a=a.data.wilayah,t.resolve(a)}),t.promise}getAreaGeoJSON(t){let a=this.q.defer();return this.http.get(`${this.urlServer}/api/get_area_geojson/${t}`).then(t=>{t=t.data,a.resolve(t)}),a.promise}postWilayah(t){let a=this.q.defer();return this.http({method:"POST",url:`${this.urlServer}/api/post_wilayah/${t}`,dataType:"json",geojson:{geojson:{type:"FeatureCollection",features:[]}},headers:{"Content-Type":"application/json"}}).then(t=>{t=t.data,a.resolve(t)}),a.promise}}])},function(t,a,e){angular.module("infomet_nelayan").component("headerContainer",{bindings:{},controller:["$scope",class{constructor(t){this.scope=t}$onInit(){}}],template:e(3)})},function(t,a){t.exports='<div style=height:100%;display:flex;flex-direction:column> <div style=flex:1;position:relative> <div style=height:100%;width:500px;position:absolute;left:60px> <img src=/img/logo-bmkg.png style=height:60px;position:absolute;transform:translate(0,-50%);top:50%> <div style=position:absolute;background-color:#000;width:3px;height:60px;transform:translate(0,-50%);top:50%;left:60px></div> <h1 style=position:absolute;transform:translate(0,-100%);top:50%;left:75px>Sistem Monitoring</h1> <h3 style=position:absolute;transform:translate(0,-100%);top:80%;left:75px> Infomet Nelayan Sederhana </h3> </div> </div> <div style="flex-basis:30px;background-color:#0c3259;padding:0 0 0 20px;color:#fff"> <div class=w3-bar> <button class="w3-bar-item w3-button w3-padding-small">Monitoring</button> <button class="w3-bar-item w3-button w3-padding-small">Wilayah</button> <button class="w3-bar-item w3-button w3-padding-small">Infomet</button> <button class="w3-bar-item w3-button w3-padding-small">Data Logger</button> </div> </div> <div style=flex-basis:8px;background-color:#299c4c></div> </div>'},function(t,a){angular.module("infomet_nelayan").component("mapContainer",{bindings:{map:"="},controller:["$scope",class{constructor(t){this.scope=t}$onInit(){this.map=L.map("map").setView([51.505,-.09],13),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(this.map);this.map.pm.addControls({position:"topleft",drawMarker:!1,drawPolyline:!1,drawRectangle:!1,drawPolygon:!0,drawCircle:!1,cutPolygon:!0,editMode:!0,removalMode:!0})}}]})},function(t,a,e){angular.module("infomet_nelayan").component("sideBar",{bindings:{map:"=",lastLayer:"="},controller:["$scope","api",class{constructor(t,a){this.scope=t,this.api=a}$onInit(){this.scope.simpan=(()=>{let t={type:"FeatureCollection",features:[]};this.map.eachLayer(function(a){void 0!=a.pm&&"Feature"===(a=a.toGeoJSON()).type&&t.features.push(a)}),0!=t.features.length&&console.log("menuContainer simpan",t)}),this.api.getWilayah().then(t=>{this.scope.wilayah=t}),this.scope.selectWilayah=(t=>{this.api.getAreaGeoJSON(t).then(a=>{void 0!==this.lastLayer.layer&&this.lastLayer.layer.removeFrom(this.map),this.lastLayer.wilayah=t,this.lastLayer.layer=L.geoJSON(a),this.map.fitBounds(this.lastLayer.layer.getBounds()),this.lastLayer.layer.addTo(this.map),console.log(a,this.lastLayer.layer.toGeoJSON())})})}}],template:e(6)})},function(t,a){t.exports='<style>.w3-panel-costom{padding:.01em 16px;margin-top:8px!important}</style> <div class=w3-container style=padding-top:8px> Tambah Wilayah <button class="w3-button w3-padding-small w3-teal" ng-click="$ctrl.showModalTambahWilayah=true">+</button> <div ng-repeat="_wilayah in wilayah"> <div class=w3-bar style=display:flex;padding-top:8px> <button class="w3-bar-item w3-button w3-padding-small w3-blue" style=flex:4 ng-click=selectWilayah(_wilayah)>{{_wilayah}}</button> <button class="w3-bar-item w3-button w3-padding-small w3-teal" style=flex:1 ng-click="$ctrl.showModalEditWilayah=true">Edit</button> <button class="w3-bar-item w3-button w3-padding-small w3-teal" style=flex:1>Hapus</button> </div> </div> </div> <modal-tambah-wilayah show-modal-tambah-wilayah=$ctrl.showModalTambahWilayah wilayah=wilayah></modal-tambah-wilayah> <modal-edit-wilayah show-modal-edit-wilayah=$ctrl.showModalEditWilayah wilayah=wilayah></modal-edit-wilayah>'},function(t,a,e){angular.module("infomet_nelayan").component("modalTambahWilayah",{bindings:{showModalTambahWilayah:"=",wilayah:"="},controller:["$scope","api",class{constructor(t,a){this.scope=t,this.api=a}$onInit(){this.scope.tambahWilayah=(t=>{this.api.postWilayah(t).then(t=>{console.log(t)})})}}],template:e(8)})},function(t,a){t.exports='<div ng-show=$ctrl.showModalTambahWilayah> <div class=w3-modal ng-style="{ display: $ctrl.showModalTambahWilayah? \'block\': \'none\' }" style=z-index:99999999> <div class="w3-modal-content w3-card-4 w3-animate-zoom" style=max-width:600px> <div class=w3-center> <br> <span class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal" ng-click="$ctrl.showModalTambahWilayah=false">&times;</span> <h3>Tambah Wilayah</h3> </div> <div class=w3-container> <div class=w3-section> <label> <b>Nama Wilayah</b> </label> <input class="w3-input w3-border w3-margin-bottom" type=text ng-model=wilayah> <button class="w3-button w3-block w3-light-grey w3-section w3-padding" type=submit ng-click="tambahWilayah(wilayah); $ctrl.showModalTambahWilayah=false;">Simpan</button> </div> </div> </div> </div> </div>'},function(t,a,e){angular.module("infomet_nelayan").component("modalEditWilayah",{bindings:{showModalEditWilayah:"="},controller:["$scope",class{constructor(t){this.scope=t}$onInit(){}}],template:e(10)})},function(t,a){t.exports='<div ng-show=$ctrl.showModalEditWilayah> <div class=w3-modal ng-style="{ display: $ctrl.showModalEditWilayah? \'block\': \'none\' }" style=z-index:99999999> <div class="w3-modal-content w3-card-4 w3-animate-zoom" style=max-width:600px> <div class=w3-center> <br> <span class="w3-button w3-xlarge w3-hover-red w3-display-topright" title="Close Modal" ng-click="$ctrl.showModalEditWilayah=false">&times;</span> <h3>Edit Wilayah</h3> </div> <div class=w3-container> <div class=w3-section> <label> <b>Nama Wilayah</b> </label> <input class="w3-input w3-border w3-margin-bottom" type=text> <button class="w3-button w3-block w3-light-grey w3-section w3-padding" type=submit ng-click="$ctrl.showModalEditWilayah=false;">Simpan</button> </div> </div> </div> </div> </div>'}]);